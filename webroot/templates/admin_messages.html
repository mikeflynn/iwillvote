{{define "admin_messages"}}
{{template "admin_header" .}}
<div class="container">
  {{if ne .Error ""}}
  <div class="alert alert-danger">{{.Error}}</div>
  {{end}}

  {{if ne .Success ""}}
  <div class="alert alert-success">{{.Success}}</div>
  {{end}}

  <div class="row">
    <div class="col-md-12">
      <table class="table table-striped">
        <tr>
          <th>Slug</th>
          <th>Message</th>
          <th>Created On</th>
        </tr>
        {{range $key, $row := .MessageList}}
        <tr>
          <td>{{$row.Slug}}</td>
          <td><div class="message">{{$row.Message}}</div></td>
          <td>{{$row.CreatedOn}}</td>
        </tr>
        {{end}}
      </table>
    </div>
  </div>

  <div class="hr"></div>

  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <form action="" method="post">
        <h2>Create a Message</h2>
        <div class="form-group">
          <label for="messageSlugInput">Message Name / Slug</label>
          <input type="text" class="form-control" id="messageSlugInput" placeholder="Example: ca_primary" name="slug">
        </div>
        <div class="form-group">
          <label for="messageBodyInput">Message Body</label>
          <textarea class="form-control" id="messageBodyInput" rows="3" name="body"></textarea>
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
    </div>
  </div>
</div>
{{end}}